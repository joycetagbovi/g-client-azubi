<div class="p-4">
    <app-navbar title="Manage learners " paragraph="Filter, sort, and access detailed learner profiles "></app-navbar>
    <div class="p-6 space-y-10">
        <div class="flex justify-end">
            <!-- custome -->
            <div class="relative custom-shadow rounded-[8px]">
                <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                    <svg class="w-4 h-4 text-gray-500 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                        fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
                    </svg>
                </div>
                <input type="text" placeholder="search for learners"
                    class="block p-4 ps-10  rounded-[8px] py-2 max-w-full  w-[383px] text-[16px] text-[#7F7E83]  focus:outline-none focus:ring-0 "
                    [value]="searchValue()" (input)="onSearch($event)" />

            </div>
        </div>
        <div class="rounded-[12px] custom-shadow border border-[#EEF9FF] overflow-hidden">
            <p-table [value]="filteredLearners()" [paginator]="true" [rows]="10"
                styleClass="min-w-full divide-y divide-gray-200 bg-white">
                <ng-template pTemplate="header">
                    <tr>
                        <th class="px-4 py-3 text-left text-[12px] font-normal text-gray-700 uppercase">Learners</th>
                        <th class="px-4 py-3 text-left text-[12px] font-normal text-gray-700 uppercase">Email</th>
                        <th class="px-4 py-3 text-left text-[12px] font-normal text-gray-700 uppercase">Contact</th>
                        <th class="px-4 py-3 text-left text-[12px] font-normal text-gray-700 uppercase">Location</th>
                        <th class="px-4 py-3 text-left text-[12px] font-normal text-gray-700 uppercase">Date Joined</th>
                        <th></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-learner>
                    <tr>
                        <td class="px-4 py-3 text-left text-sm text-gray-600">
                            <div class="flex gap-3 items-center">
                                <img class="w-[40px] h-[40px] rounded-full object-cover"
                                    [src]="learner.profileImage || 'https://primefaces.org/cdn/primeng/images/demo/avatar/onyamalimba.png'"
                                    [alt]="learner.firstName" />
                                <span>{{ learner.firstName }} {{learner.lastName}}</span>
                            </div>
                        </td>
                        <td class="px-4 py-3 text-left text-sm text-gray-600">{{ learner.email }}</td>
                        <td class="px-4 py-3 text-left text-sm text-gray-600">{{ learner.contact}}</td>
                        <td class="px-4 py-3 text-left text-sm text-gray-600">{{ learner.location }}</td>
                        <td class="px-4 py-3 text-left text-sm text-gray-600">{{ learner.createdAt | dateFormat }}</td>
                        <td class="px-4 py-3 text-left text-sm text-gray-600">
                            <button pButton type="button" class="cursor-pointer" (click)="viewLearner(learner)">
                                <img src="/assets/icons/eye.svg" alt="eye" />
                            </button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
<p-dialog [modal]="true" [visible]="isDialogVisible()" (visibleChange)="handleDialogVisibility($event)"
    [style]="{ width: '30rem', background: 'white' }">
    <app-view-learners [learner]="selectedLearner()"></app-view-learners>
</p-dialog>